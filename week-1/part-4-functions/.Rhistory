library(tools)
library(tidyverse)
library(jsonlite)
data <- read.csv('../../data/world-bank/cb704cf4-fe8f-4f1b-ae0c-2a51c26f295f_Data.csv')
View(data)
library(reshape2)
# parse wide to long
data <- melt(data, id.vars = 1, measure.vars = 5:11, variable.name = "year", value.name = "value")
View(data)
data <- read.csv('../../data/world-bank/cb704cf4-fe8f-4f1b-ae0c-2a51c26f295f_Data.csv')
# parse wide to long
data <- melt(data, id.vars = 1:4, measure.vars = 5:11, variable.name = "year", value.name = "value")
View(data)
data$year
data$year %>% as.character
data$year %>% as.character
data$year <- as.character(data$year)
data$year <- as.character(data$year) %>%
a <- "X2000...alksjdhsalj"
data$year <- as.character(data$year) %>%
a <- "X2000...alksjdhsalj"
data$year <- as.character(data$year)
a <- "X2000...alksjdhsalj"
a[2:5]
a[[2:5]]
a[1]
class(a)
# parse wide to long
data <- melt(data, id.vars = 1:4, measure.vars = 5:11, variable.name = "year", value.name = "value")
data <- read.csv('../../data/world-bank/cb704cf4-fe8f-4f1b-ae0c-2a51c26f295f_Data.csv')
# parse wide to long
data <- melt(data, id.vars = 1:4, measure.vars = 5:11, variable.name = "year", value.name = "value")
data <- read.csv('../../data/world-bank/cb704cf4-fe8f-4f1b-ae0c-2a51c26f295f_Data.csv')
# parse wide to long
data <- melt(data, id.vars = 1:4, measure.vars = 5:11, variable.name = "year", value.name = "value")
data$year <- as.character(data$year) %>% substr(2,5)
View(data)
filterByCountrySeries <- data[data$Country.Code == "BHR" && data$Series.Name == "Population, total",]
filterByCountrySeries <- data[data$Country.Code == "BHR" & data$Series.Name == "Population, total",]
View(filterByCountrySeries)
data$Series.Code <- NULL
names(data) <- c("countryName", "countryCode", "series", "year", "value")
filterByCountrySeries <- data[data$countryCode == "BHR" & data$series == "Population, total",]
# alternately apply a function
filterByCountrySeries <- function(rows, country, series){
}
filterByCountrySeries <- apply(data, filterByCountrySeries, country="BHR", series="Population, total")
filterByCountrySeries <- lapply(data, filterByCountrySeries, country="BHR", series="Population, total")
filterByCountrySeries <- lapply(data, filterByCountrySeries, country="BHR", series="Population, total")
filterByCountrySeries <- apply(data, FUN=filterByCountrySeries, country="BHR", series="Population, total")
filterByCountrySeries <- lapply(data, FUN=filterByCountrySeries, country="BHR", series="Population, total")
# alternately apply a function
filterByCountrySeries <- function(rows, country, series){
}
# alternately apply a function
filterByCountrySeries <- function(rows, country, series){
return("Foo")
}
# one-liner
filteredData <- data[data$countryCode == "BHR" & data$series == "Population, total",]
# alternately apply a function
filterByCountrySeries <- function(rows, country, series){
return("Foo")
}
filterByCountrySeries <- function(rows, country, series){
return("Foo")
}
filterByCountrySeries <- lapply(data, filterByCountrySeries, "BHR", "Population, total")
